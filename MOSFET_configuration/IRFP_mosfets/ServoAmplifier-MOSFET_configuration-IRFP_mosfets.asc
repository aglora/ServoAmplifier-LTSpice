Version 4
SHEET 1 3328 1812
WIRE -480 -912 -752 -912
WIRE -208 -912 -480 -912
WIRE 48 -912 -208 -912
WIRE -1696 -848 -1728 -848
WIRE -1584 -848 -1616 -848
WIRE -1552 -848 -1584 -848
WIRE -1424 -848 -1472 -848
WIRE -480 -848 -480 -912
WIRE -400 -848 -480 -848
WIRE -208 -848 -208 -912
WIRE -128 -848 -208 -848
WIRE 48 -848 48 -912
WIRE 128 -848 48 -848
WIRE -400 -832 -400 -848
WIRE -128 -832 -128 -848
WIRE 128 -832 128 -848
WIRE -1728 -816 -1728 -848
WIRE -1856 -800 -1952 -800
WIRE -1760 -800 -1776 -800
WIRE -2032 -768 -2032 -800
WIRE -528 -768 -560 -768
WIRE -256 -768 -288 -768
WIRE 0 -768 -32 -768
WIRE -400 -752 -400 -768
WIRE -400 -752 -480 -752
WIRE -128 -752 -128 -768
WIRE -128 -752 -208 -752
WIRE 128 -752 128 -768
WIRE 128 -752 48 -752
WIRE -1584 -720 -1584 -848
WIRE -1536 -720 -1584 -720
WIRE -480 -720 -480 -752
WIRE -432 -720 -480 -720
WIRE 352 -720 -432 -720
WIRE -1952 -704 -1952 -800
WIRE -1936 -704 -1952 -704
WIRE -1424 -704 -1424 -848
WIRE -1424 -704 -1472 -704
WIRE -1040 -704 -1424 -704
WIRE -1760 -688 -1760 -800
WIRE -1760 -688 -1872 -688
WIRE -1696 -688 -1760 -688
WIRE -1584 -688 -1616 -688
WIRE -1536 -688 -1584 -688
WIRE -2016 -672 -2128 -672
WIRE -1936 -672 -2016 -672
WIRE -752 -640 -752 -912
WIRE -2128 -624 -2128 -672
WIRE -208 -592 -208 -752
WIRE -128 -592 -208 -592
WIRE 352 -592 -128 -592
WIRE -1696 -576 -1808 -576
WIRE -1584 -576 -1584 -688
WIRE -1584 -576 -1616 -576
WIRE -2128 -512 -2128 -544
WIRE -2016 -480 -2016 -672
WIRE -2000 -480 -2016 -480
WIRE -1872 -480 -1936 -480
WIRE -1776 -464 -1808 -464
WIRE -1056 -464 -1776 -464
WIRE 48 -464 48 -752
WIRE 160 -464 48 -464
WIRE 352 -464 160 -464
WIRE -1872 -448 -1904 -448
WIRE -480 -432 -480 -720
WIRE -400 -432 -480 -432
WIRE -208 -432 -208 -592
WIRE -144 -432 -208 -432
WIRE 48 -432 48 -464
WIRE 112 -432 48 -432
WIRE -400 -416 -400 -432
WIRE -144 -416 -144 -432
WIRE 112 -416 112 -432
WIRE -2048 -352 -2096 -352
WIRE -1904 -352 -1904 -448
WIRE -1904 -352 -1968 -352
WIRE -1872 -352 -1904 -352
WIRE -1776 -352 -1776 -464
WIRE -1776 -352 -1792 -352
WIRE -528 -352 -560 -352
WIRE -256 -352 -288 -352
WIRE 0 -352 -32 -352
WIRE -400 -336 -400 -352
WIRE -400 -336 -480 -336
WIRE -144 -336 -144 -352
WIRE -144 -336 -208 -336
WIRE 112 -336 112 -352
WIRE 112 -336 48 -336
WIRE -2096 -320 -2096 -352
WIRE -752 -256 -752 -560
WIRE -480 -256 -480 -336
WIRE -480 -256 -752 -256
WIRE -208 -256 -208 -336
WIRE -208 -256 -480 -256
WIRE 48 -256 48 -336
WIRE 48 -256 -208 -256
WIRE -208 -192 -208 -256
WIRE -1696 -176 -1728 -176
WIRE -1584 -176 -1616 -176
WIRE -1552 -176 -1584 -176
WIRE -1424 -176 -1472 -176
WIRE -1728 -144 -1728 -176
WIRE -1856 -128 -1952 -128
WIRE -1760 -128 -1776 -128
WIRE -2032 -96 -2032 -128
WIRE -368 -64 -400 -64
WIRE -256 -64 -288 -64
WIRE -96 -64 -176 -64
WIRE -1584 -48 -1584 -176
WIRE -1536 -48 -1584 -48
WIRE -1952 -32 -1952 -128
WIRE -1936 -32 -1952 -32
WIRE -1424 -32 -1424 -176
WIRE -1424 -32 -1472 -32
WIRE -1040 -32 -1424 -32
WIRE -1760 -16 -1760 -128
WIRE -1760 -16 -1872 -16
WIRE -1696 -16 -1760 -16
WIRE -1584 -16 -1616 -16
WIRE -1536 -16 -1584 -16
WIRE -2016 0 -2128 0
WIRE -1936 0 -2016 0
WIRE -2128 48 -2128 0
WIRE -368 48 -400 48
WIRE -256 48 -288 48
WIRE -96 48 -96 -64
WIRE -96 48 -176 48
WIRE -1696 96 -1808 96
WIRE -1584 96 -1584 -16
WIRE -1584 96 -1616 96
WIRE -2128 160 -2128 128
WIRE -368 160 -400 160
WIRE -256 160 -288 160
WIRE -96 160 -96 48
WIRE -96 160 -176 160
WIRE -2016 192 -2016 0
WIRE -2000 192 -2016 192
WIRE -1872 192 -1936 192
WIRE -1776 208 -1808 208
WIRE -1056 208 -1776 208
WIRE -1872 224 -1904 224
WIRE -2048 320 -2096 320
WIRE -1904 320 -1904 224
WIRE -1904 320 -1968 320
WIRE -1872 320 -1904 320
WIRE -1776 320 -1776 208
WIRE -1776 320 -1792 320
WIRE -2096 352 -2096 320
WIRE -1712 480 -1744 480
WIRE -1600 480 -1632 480
WIRE -1568 480 -1600 480
WIRE -1440 480 -1488 480
WIRE -1744 512 -1744 480
WIRE -1872 528 -1968 528
WIRE -1776 528 -1792 528
WIRE -2048 560 -2048 528
WIRE -1600 608 -1600 480
WIRE -1552 608 -1600 608
WIRE -1968 624 -1968 528
WIRE -1952 624 -1968 624
WIRE -1440 624 -1440 480
WIRE -1440 624 -1488 624
WIRE -1056 624 -1440 624
WIRE -1776 640 -1776 528
WIRE -1776 640 -1888 640
WIRE -1712 640 -1776 640
WIRE -1600 640 -1632 640
WIRE -1552 640 -1600 640
WIRE -2032 656 -2144 656
WIRE -1952 656 -2032 656
WIRE -2144 704 -2144 656
WIRE -1712 752 -1824 752
WIRE -1600 752 -1600 640
WIRE -1600 752 -1632 752
WIRE -2144 816 -2144 784
WIRE -2032 848 -2032 656
WIRE -2016 848 -2032 848
WIRE -1888 848 -1952 848
WIRE -1792 864 -1824 864
WIRE -1072 864 -1792 864
WIRE -1888 880 -1920 880
WIRE -2064 976 -2112 976
WIRE -1920 976 -1920 880
WIRE -1920 976 -1984 976
WIRE -1888 976 -1920 976
WIRE -1792 976 -1792 864
WIRE -1792 976 -1808 976
WIRE -2112 1008 -2112 976
FLAG -208 -192 0
FLAG -432 -720 Pha
FLAG -128 -592 Phb
FLAG 160 -464 Phc
FLAG -560 -352 gNA
IOPIN -560 -352 In
FLAG -560 -768 gA
IOPIN -560 -768 In
FLAG -288 -768 gB
IOPIN -288 -768 In
FLAG -32 -768 gC
IOPIN -32 -768 In
FLAG -288 -352 gNB
IOPIN -288 -352 In
FLAG -32 -352 gNC
IOPIN -32 -352 In
FLAG -400 -64 Vout_A
IOPIN -400 -64 In
FLAG -400 48 Vout_B
IOPIN -400 48 In
FLAG -400 160 Vout_C
IOPIN -400 160 In
FLAG 352 -720 Vout_A
IOPIN 352 -720 Out
FLAG 352 -592 Vout_B
IOPIN 352 -592 Out
FLAG 352 -464 Vout_C
IOPIN 352 -464 Out
FLAG -1040 -704 gA
IOPIN -1040 -704 Out
FLAG -1056 -464 gNA
IOPIN -1056 -464 Out
FLAG -480 -720 sA
IOPIN -480 -720 Out
FLAG -2128 -512 0
FLAG -2000 -464 0
FLAG -208 -592 sB
IOPIN -208 -592 Out
FLAG 48 -464 sC
IOPIN 48 -464 Out
FLAG -2096 -320 0
FLAG -2032 -768 0
FLAG -1808 -576 sA
IOPIN -1808 -576 In
FLAG -1728 -816 0
FLAG -1040 -32 gB
IOPIN -1040 -32 Out
FLAG -1056 208 gNB
IOPIN -1056 208 Out
FLAG -2128 160 0
FLAG -2000 208 0
FLAG -2096 352 0
FLAG -2032 -96 0
FLAG -1808 96 sB
IOPIN -1808 96 In
FLAG -1728 -144 0
FLAG -1056 624 gC
IOPIN -1056 624 Out
FLAG -1072 864 gNC
IOPIN -1072 864 Out
FLAG -2144 816 0
FLAG -2016 864 0
FLAG -2112 1008 0
FLAG -2048 560 0
FLAG -1824 752 sC
IOPIN -1824 752 In
FLAG -1744 512 0
SYMBOL voltage -752 -656 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName Vdc
SYMATTR Value 10
SYMBOL nmos -528 -848 R0
WINDOW 0 -66 3 Left 2
WINDOW 3 -123 31 Left 2
SYMATTR InstName M1
SYMATTR Value IRFP250N
SYMBOL nmos -256 -848 R0
WINDOW 0 -64 14 Left 2
WINDOW 3 -112 42 Left 2
SYMATTR InstName M2
SYMATTR Value IRFP250N
SYMBOL nmos 0 -848 R0
WINDOW 0 -69 26 Left 2
WINDOW 3 -108 48 Left 2
SYMATTR InstName M3
SYMATTR Value IRFP250N
SYMBOL nmos -528 -432 R0
WINDOW 0 -66 3 Left 2
WINDOW 3 -123 31 Left 2
SYMATTR InstName M4
SYMATTR Value IRFP250N
SYMBOL nmos -256 -432 R0
WINDOW 0 -68 14 Left 2
WINDOW 3 -109 42 Left 2
SYMATTR InstName M5
SYMATTR Value IRFP250N
SYMBOL nmos 0 -432 R0
WINDOW 0 -65 24 Left 2
WINDOW 3 -111 48 Left 2
SYMATTR InstName M6
SYMATTR Value IRFP250N
SYMBOL ind -272 -48 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName LA
SYMATTR Value {L}
SYMBOL ind -272 64 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName LB
SYMATTR Value {L}
SYMBOL ind -272 176 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName LC
SYMATTR Value {L}
SYMBOL voltage -2128 -640 R0
WINDOW 3 -438 55 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PULSE(0 1 0 1n 1n {Ton} {Tp})
SYMATTR InstName A1
SYMBOL res -384 -48 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName RA
SYMATTR Value {R}
SYMBOL res -384 64 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName RB
SYMATTR Value {R}
SYMBOL res -384 176 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName RC
SYMATTR Value {R}
SYMBOL Digital\\inv -2000 -544 R0
WINDOW 0 16 20 Left 2
SYMATTR InstName NOTB1
SYMBOL OpAmps\\opamp -1840 -400 M180
SYMATTR InstName U1
SYMBOL res -1776 -368 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R11
SYMATTR Value {Rf}
SYMBOL res -2064 -336 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R12
SYMATTR Value 1k
SYMBOL res -1760 -816 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value {Rf}
SYMBOL res -2048 -784 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R7
SYMATTR Value 1k
SYMBOL OpAmps\\opamp -1904 -752 R0
SYMATTR InstName U2
SYMBOL OpAmps\\opamp -1504 -768 R0
SYMATTR InstName U5
SYMBOL res -1456 -864 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 1k
SYMBOL res -1600 -864 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R4
SYMATTR Value 1k
SYMBOL res -1600 -704 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 1k
SYMBOL res -1600 -592 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 1k
SYMBOL voltage -2128 32 R0
WINDOW 3 -438 55 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PULSE(0 1 {Td1} 1n 1n {Ton} {Tp})
SYMATTR InstName A2
SYMBOL Digital\\inv -2000 128 R0
WINDOW 0 16 20 Left 2
SYMATTR InstName NOTB2
SYMBOL OpAmps\\opamp -1840 272 M180
SYMATTR InstName U3
SYMBOL res -1776 304 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value {Rf}
SYMBOL res -2064 336 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R8
SYMATTR Value 1k
SYMBOL res -1760 -144 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value {Rf}
SYMBOL res -2048 -112 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R10
SYMATTR Value 1k
SYMBOL OpAmps\\opamp -1904 -80 R0
SYMATTR InstName U4
SYMBOL OpAmps\\opamp -1504 -96 R0
SYMATTR InstName U6
SYMBOL res -1456 -192 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R13
SYMATTR Value 1k
SYMBOL res -1600 -192 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R14
SYMATTR Value 1k
SYMBOL res -1600 -32 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R15
SYMATTR Value 1k
SYMBOL res -1600 80 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R16
SYMATTR Value 1k
SYMBOL voltage -2144 688 R0
WINDOW 3 -438 55 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PULSE(0 1 {Td2} 1n 1n {Ton} {Tp})
SYMATTR InstName A3
SYMBOL Digital\\inv -2016 784 R0
WINDOW 0 16 20 Left 2
SYMATTR InstName NOTB3
SYMBOL OpAmps\\opamp -1856 928 M180
SYMATTR InstName U7
SYMBOL res -1792 960 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R17
SYMATTR Value {Rf}
SYMBOL res -2080 992 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R18
SYMATTR Value 1k
SYMBOL res -1776 512 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R19
SYMATTR Value {Rf}
SYMBOL res -2064 544 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R20
SYMATTR Value 1k
SYMBOL OpAmps\\opamp -1920 576 R0
SYMATTR InstName U8
SYMBOL OpAmps\\opamp -1520 560 R0
SYMATTR InstName U9
SYMBOL res -1472 464 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R21
SYMATTR Value 1k
SYMBOL res -1616 464 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R22
SYMATTR Value 1k
SYMBOL res -1616 624 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R23
SYMATTR Value 1k
SYMBOL res -1616 736 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R24
SYMATTR Value 1k
SYMBOL diode -384 -768 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D1
SYMBOL diode -112 -768 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D2
SYMBOL diode 144 -768 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D3
SYMBOL diode -384 -352 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D4
SYMBOL diode -128 -352 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D5
SYMBOL diode 128 -352 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D6
TEXT -912 -8 Left 2 !.param Rf=(Gain-1)*1k
TEXT -392 -984 Left 2 !.tran 0 100m 24m 0.1m
TEXT -368 264 Left 2 !.param R=4
TEXT -368 312 Left 2 !.param L=15u
TEXT -912 40 Left 2 !.param Tp=24m
TEXT -912 88 Left 2 !.param Ton=Tp/2
TEXT -912 128 Left 2 !.param Td1=Tp/3
TEXT -912 176 Left 2 !.param Td2=2/3*Tp
TEXT -912 -56 Left 2 !.param Gain=4.5
TEXT -1856 -1000 Left 2 !.inc opamp.sub
