Version 4
SHEET 1 3328 1812
WIRE -1856 -896 -1888 -896
WIRE -1744 -896 -1776 -896
WIRE -1712 -896 -1744 -896
WIRE -1584 -896 -1632 -896
WIRE -1888 -864 -1888 -896
WIRE -2016 -848 -2112 -848
WIRE -1920 -848 -1936 -848
WIRE -2192 -816 -2192 -848
WIRE -1744 -768 -1744 -896
WIRE -1696 -768 -1744 -768
WIRE -2112 -752 -2112 -848
WIRE -2096 -752 -2112 -752
WIRE -1584 -752 -1584 -896
WIRE -1584 -752 -1632 -752
WIRE -1200 -752 -1584 -752
WIRE -1920 -736 -1920 -848
WIRE -1920 -736 -2032 -736
WIRE -1856 -736 -1920 -736
WIRE -1744 -736 -1776 -736
WIRE -1696 -736 -1744 -736
WIRE -2176 -720 -2288 -720
WIRE -2096 -720 -2176 -720
WIRE -2288 -672 -2288 -720
WIRE -1856 -624 -1968 -624
WIRE -1744 -624 -1744 -736
WIRE -1744 -624 -1776 -624
WIRE -2288 -560 -2288 -592
WIRE -480 -544 -752 -544
WIRE -208 -544 -480 -544
WIRE 48 -544 -208 -544
WIRE -2176 -528 -2176 -720
WIRE -2160 -528 -2176 -528
WIRE -2032 -528 -2096 -528
WIRE -1936 -512 -1968 -512
WIRE -1216 -512 -1936 -512
WIRE -2032 -496 -2064 -496
WIRE -480 -480 -480 -544
WIRE -400 -480 -480 -480
WIRE -208 -480 -208 -544
WIRE -128 -480 -208 -480
WIRE 48 -480 48 -544
WIRE 128 -480 48 -480
WIRE -400 -464 -400 -480
WIRE -128 -464 -128 -480
WIRE 128 -464 128 -480
WIRE -2208 -400 -2256 -400
WIRE -2064 -400 -2064 -496
WIRE -2064 -400 -2128 -400
WIRE -2032 -400 -2064 -400
WIRE -1936 -400 -1936 -512
WIRE -1936 -400 -1952 -400
WIRE -528 -400 -560 -400
WIRE -256 -400 -288 -400
WIRE 0 -400 -32 -400
WIRE -400 -384 -400 -400
WIRE -400 -384 -480 -384
WIRE -128 -384 -128 -400
WIRE -128 -384 -208 -384
WIRE 128 -384 128 -400
WIRE 128 -384 48 -384
WIRE -2256 -368 -2256 -400
WIRE -480 -352 -480 -384
WIRE -432 -352 -480 -352
WIRE 352 -352 -432 -352
WIRE -752 -272 -752 -544
WIRE -1856 -224 -1888 -224
WIRE -1744 -224 -1776 -224
WIRE -1712 -224 -1744 -224
WIRE -1584 -224 -1632 -224
WIRE -208 -224 -208 -384
WIRE -128 -224 -208 -224
WIRE 352 -224 -128 -224
WIRE -1888 -192 -1888 -224
WIRE -2016 -176 -2112 -176
WIRE -1920 -176 -1936 -176
WIRE -2192 -144 -2192 -176
WIRE -1744 -96 -1744 -224
WIRE -1696 -96 -1744 -96
WIRE 48 -96 48 -384
WIRE 160 -96 48 -96
WIRE 352 -96 160 -96
WIRE -2112 -80 -2112 -176
WIRE -2096 -80 -2112 -80
WIRE -1584 -80 -1584 -224
WIRE -1584 -80 -1632 -80
WIRE -1200 -80 -1584 -80
WIRE -1920 -64 -1920 -176
WIRE -1920 -64 -2032 -64
WIRE -1856 -64 -1920 -64
WIRE -1744 -64 -1776 -64
WIRE -1696 -64 -1744 -64
WIRE -480 -64 -480 -352
WIRE -400 -64 -480 -64
WIRE -208 -64 -208 -224
WIRE -144 -64 -208 -64
WIRE 48 -64 48 -96
WIRE 112 -64 48 -64
WIRE -2176 -48 -2288 -48
WIRE -2096 -48 -2176 -48
WIRE -400 -48 -400 -64
WIRE -144 -48 -144 -64
WIRE 112 -48 112 -64
WIRE -2288 0 -2288 -48
WIRE -528 16 -560 16
WIRE -256 16 -288 16
WIRE 0 16 -32 16
WIRE -400 32 -400 16
WIRE -400 32 -480 32
WIRE -144 32 -144 16
WIRE -144 32 -208 32
WIRE 112 32 112 16
WIRE 112 32 48 32
WIRE -1856 48 -1968 48
WIRE -1744 48 -1744 -64
WIRE -1744 48 -1776 48
WIRE -2288 112 -2288 80
WIRE -752 112 -752 -192
WIRE -480 112 -480 32
WIRE -480 112 -752 112
WIRE -208 112 -208 32
WIRE -208 112 -480 112
WIRE 48 112 48 32
WIRE 48 112 -208 112
WIRE -2176 144 -2176 -48
WIRE -2160 144 -2176 144
WIRE -2032 144 -2096 144
WIRE -1936 160 -1968 160
WIRE -1216 160 -1936 160
WIRE -2032 176 -2064 176
WIRE -208 176 -208 112
WIRE -2208 272 -2256 272
WIRE -2064 272 -2064 176
WIRE -2064 272 -2128 272
WIRE -2032 272 -2064 272
WIRE -1936 272 -1936 160
WIRE -1936 272 -1952 272
WIRE -2256 304 -2256 272
WIRE -368 304 -400 304
WIRE -256 304 -288 304
WIRE -96 304 -176 304
WIRE -368 416 -400 416
WIRE -256 416 -288 416
WIRE -96 416 -96 304
WIRE -96 416 -176 416
WIRE -1872 432 -1904 432
WIRE -1760 432 -1792 432
WIRE -1728 432 -1760 432
WIRE -1600 432 -1648 432
WIRE -1904 464 -1904 432
WIRE -2032 480 -2128 480
WIRE -1936 480 -1952 480
WIRE -2208 512 -2208 480
WIRE -368 528 -400 528
WIRE -256 528 -288 528
WIRE -96 528 -96 416
WIRE -96 528 -176 528
WIRE -1760 560 -1760 432
WIRE -1712 560 -1760 560
WIRE -2128 576 -2128 480
WIRE -2112 576 -2128 576
WIRE -1600 576 -1600 432
WIRE -1600 576 -1648 576
WIRE -1216 576 -1600 576
WIRE -1936 592 -1936 480
WIRE -1936 592 -2048 592
WIRE -1872 592 -1936 592
WIRE -1760 592 -1792 592
WIRE -1712 592 -1760 592
WIRE -2192 608 -2304 608
WIRE -2112 608 -2192 608
WIRE -2304 656 -2304 608
WIRE -1872 704 -1984 704
WIRE -1760 704 -1760 592
WIRE -1760 704 -1792 704
WIRE -2304 768 -2304 736
WIRE -2192 800 -2192 608
WIRE -2176 800 -2192 800
WIRE -2048 800 -2112 800
WIRE -1952 816 -1984 816
WIRE -1232 816 -1952 816
WIRE -2048 832 -2080 832
WIRE -2224 928 -2272 928
WIRE -2080 928 -2080 832
WIRE -2080 928 -2144 928
WIRE -2048 928 -2080 928
WIRE -1952 928 -1952 816
WIRE -1952 928 -1968 928
WIRE -2272 960 -2272 928
FLAG -208 176 0
FLAG -432 -352 Pha
FLAG -128 -224 Phb
FLAG 160 -96 Phc
FLAG -560 16 gNA
IOPIN -560 16 In
FLAG -560 -400 gA
IOPIN -560 -400 In
FLAG -288 -400 gB
IOPIN -288 -400 In
FLAG -32 -400 gC
IOPIN -32 -400 In
FLAG -288 16 gNB
IOPIN -288 16 In
FLAG -32 16 gNC
IOPIN -32 16 In
FLAG -400 304 Vout_A
IOPIN -400 304 In
FLAG -400 416 Vout_B
IOPIN -400 416 In
FLAG -400 528 Vout_C
IOPIN -400 528 In
FLAG 352 -352 Vout_A
IOPIN 352 -352 Out
FLAG 352 -224 Vout_B
IOPIN 352 -224 Out
FLAG 352 -96 Vout_C
IOPIN 352 -96 Out
FLAG -480 -352 sA
IOPIN -480 -352 Out
FLAG -208 -224 sB
IOPIN -208 -224 Out
FLAG 48 -96 sC
IOPIN 48 -96 Out
FLAG -1200 -752 gA
IOPIN -1200 -752 Out
FLAG -1216 -512 gNA
IOPIN -1216 -512 Out
FLAG -2288 -560 0
FLAG -2160 -512 0
FLAG -2256 -368 0
FLAG -2192 -816 0
FLAG -1968 -624 sA
IOPIN -1968 -624 In
FLAG -1888 -864 0
FLAG -1200 -80 gB
IOPIN -1200 -80 Out
FLAG -1216 160 gNB
IOPIN -1216 160 Out
FLAG -2288 112 0
FLAG -2160 160 0
FLAG -2256 304 0
FLAG -2192 -144 0
FLAG -1968 48 sB
IOPIN -1968 48 In
FLAG -1888 -192 0
FLAG -1216 576 gC
IOPIN -1216 576 Out
FLAG -1232 816 gNC
IOPIN -1232 816 Out
FLAG -2304 768 0
FLAG -2176 816 0
FLAG -2272 960 0
FLAG -2208 512 0
FLAG -1984 704 sC
IOPIN -1984 704 In
FLAG -1904 464 0
SYMBOL voltage -752 -288 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName Vdc
SYMATTR Value 10
SYMBOL nmos -528 -480 R0
WINDOW 0 -66 3 Left 2
WINDOW 3 -123 31 Left 2
SYMATTR InstName M1
SYMATTR Value IRFP250N
SYMBOL nmos -256 -480 R0
WINDOW 0 -64 14 Left 2
WINDOW 3 -112 42 Left 2
SYMATTR InstName M2
SYMATTR Value IRFP250N
SYMBOL nmos 0 -480 R0
WINDOW 0 -69 26 Left 2
WINDOW 3 -108 48 Left 2
SYMATTR InstName M3
SYMATTR Value IRFP250N
SYMBOL nmos -528 -64 R0
WINDOW 0 -66 3 Left 2
WINDOW 3 -123 31 Left 2
SYMATTR InstName M4
SYMATTR Value IRFP250N
SYMBOL nmos -256 -64 R0
WINDOW 0 -68 14 Left 2
WINDOW 3 -109 42 Left 2
SYMATTR InstName M5
SYMATTR Value IRFP250N
SYMBOL nmos 0 -64 R0
WINDOW 0 -65 24 Left 2
WINDOW 3 -111 48 Left 2
SYMATTR InstName M6
SYMATTR Value IRFP250N
SYMBOL ind -272 320 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName LA
SYMATTR Value {L}
SYMBOL ind -272 432 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName LB
SYMATTR Value {L}
SYMBOL ind -272 544 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName LC
SYMATTR Value {L}
SYMBOL res -384 320 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName RA
SYMATTR Value {R}
SYMBOL res -384 432 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName RB
SYMATTR Value {R}
SYMBOL res -384 544 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName RC
SYMATTR Value {R}
SYMBOL voltage -2288 -688 R0
WINDOW 3 -438 55 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PULSE(0 1 0 1n 1n {Ton} {Tp})
SYMATTR InstName A1
SYMBOL Digital\\inv -2160 -592 R0
WINDOW 0 16 20 Left 2
SYMATTR InstName NOTB1
SYMBOL OpAmps\\opamp -2000 -448 M180
SYMATTR InstName U1
SYMBOL res -1936 -416 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value {Rf}
SYMBOL res -2224 -384 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R2
SYMATTR Value 1k
SYMBOL res -1920 -864 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value {Rf}
SYMBOL res -2208 -832 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R4
SYMATTR Value 1k
SYMBOL OpAmps\\opamp -2064 -800 R0
SYMATTR InstName U2
SYMBOL OpAmps\\opamp -1664 -816 R0
SYMATTR InstName U3
SYMBOL res -1616 -912 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 1k
SYMBOL res -1760 -912 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 1k
SYMBOL res -1760 -752 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 1k
SYMBOL res -1760 -640 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 1k
SYMBOL voltage -2288 -16 R0
WINDOW 3 -438 55 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PULSE(0 1 {Td1} 1n 1n {Ton} {Tp})
SYMATTR InstName A2
SYMBOL Digital\\inv -2160 80 R0
WINDOW 0 16 20 Left 2
SYMATTR InstName NOTB2
SYMBOL OpAmps\\opamp -2000 224 M180
SYMATTR InstName U4
SYMBOL res -1936 256 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value {Rf}
SYMBOL res -2224 288 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R10
SYMATTR Value 1k
SYMBOL res -1920 -192 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R11
SYMATTR Value {Rf}
SYMBOL res -2208 -160 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R12
SYMATTR Value 1k
SYMBOL OpAmps\\opamp -2064 -128 R0
SYMATTR InstName U5
SYMBOL OpAmps\\opamp -1664 -144 R0
SYMATTR InstName U6
SYMBOL res -1616 -240 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R13
SYMATTR Value 1k
SYMBOL res -1760 -240 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R14
SYMATTR Value 1k
SYMBOL res -1760 -80 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R15
SYMATTR Value 1k
SYMBOL res -1760 32 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R16
SYMATTR Value 1k
SYMBOL voltage -2304 640 R0
WINDOW 3 -438 55 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR Value PULSE(0 1 {Td2} 1n 1n {Ton} {Tp})
SYMATTR InstName A3
SYMBOL Digital\\inv -2176 736 R0
WINDOW 0 16 20 Left 2
SYMATTR InstName NOTB3
SYMBOL OpAmps\\opamp -2016 880 M180
SYMATTR InstName U7
SYMBOL res -1952 912 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R17
SYMATTR Value {Rf}
SYMBOL res -2240 944 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R18
SYMATTR Value 1k
SYMBOL res -1936 464 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R19
SYMATTR Value {Rf}
SYMBOL res -2224 496 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R20
SYMATTR Value 1k
SYMBOL OpAmps\\opamp -2080 528 R0
SYMATTR InstName U8
SYMBOL OpAmps\\opamp -1680 512 R0
SYMATTR InstName U9
SYMBOL res -1632 416 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R21
SYMATTR Value 1k
SYMBOL res -1776 416 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R22
SYMATTR Value 1k
SYMBOL res -1776 576 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R23
SYMATTR Value 1k
SYMBOL res -1776 688 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R24
SYMATTR Value 1k
SYMBOL diode -384 -400 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D1
SYMBOL diode -112 -400 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D2
SYMBOL diode 144 -400 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D3
SYMBOL diode -384 16 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D4
SYMBOL diode -128 16 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D5
SYMBOL diode 128 16 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D6
TEXT -392 -616 Left 2 !.tran 0 {2/fp} {1/fp} 0.1m
TEXT -368 632 Left 2 !.param R=4
TEXT -368 680 Left 2 !.param L=15u
TEXT -1016 696 Left 2 !.meas TRAN Iout_pp PP I(LA)
TEXT -1016 736 Left 2 !.step param fp 1 200k 1k
TEXT -992 408 Left 2 !.param Rf=(Gain-1)*1k
TEXT -992 456 Left 2 !.param Tp=1/fp
TEXT -992 504 Left 2 !.param Ton=Tp/2
TEXT -992 544 Left 2 !.param Td1=Tp/3
TEXT -992 592 Left 2 !.param Td2=2/3*Tp
TEXT -992 360 Left 2 !.param Gain=4.5
TEXT -1920 -1024 Left 2 !.inc opamp.sub
