Version 4
SHEET 1 2388 680
WIRE 640 0 576 0
WIRE 848 0 704 0
WIRE 896 0 896 -32
WIRE 896 0 848 0
WIRE 976 0 896 0
WIRE 1024 0 976 0
WIRE 1072 0 1024 0
WIRE 848 16 848 0
WIRE 976 64 976 0
WIRE 1072 64 1072 0
WIRE 576 112 576 0
WIRE 624 112 576 112
WIRE 736 112 688 112
WIRE 576 176 576 112
WIRE 576 176 528 176
WIRE 624 176 576 176
WIRE 736 176 736 112
WIRE 736 176 704 176
WIRE 752 176 736 176
WIRE 976 176 976 144
WIRE 1024 176 1024 0
WIRE 576 192 576 176
WIRE 736 192 736 176
WIRE 576 272 576 256
WIRE 736 272 736 256
WIRE 736 272 576 272
WIRE 848 272 848 96
WIRE 848 272 736 272
WIRE 896 272 848 272
WIRE 976 272 976 240
WIRE 976 272 896 272
WIRE 1024 272 1024 240
WIRE 1024 272 976 272
WIRE 1072 272 1072 128
WIRE 1072 272 1024 272
WIRE 896 304 896 272
FLAG 528 176 G
IOPIN 528 176 In
FLAG 896 304 S
IOPIN 896 304 In
FLAG 896 -32 C
IOPIN 896 -32 In
FLAG 752 176 Vgate
SYMBOL res 832 0 R0
WINDOW 3 -329 -134 Left 2
SYMATTR Value R=R_IGBT*(Vgsmax-Vgsmin)/(max(V(Vgate,S)-Vgsmin,0)+c_a)
SYMATTR InstName R1
SYMBOL cap 720 192 R0
SYMATTR InstName C1
SYMATTR Value {Cg}
SYMBOL cap 704 -16 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value {Cgc}
SYMBOL cap 1056 64 R0
WINDOW 3 56 31 Left 2
SYMATTR InstName C3
SYMATTR Value {Cout}
SYMBOL res 720 160 R90
WINDOW 0 1 30 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value {Rg}
SYMBOL diode 624 128 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMBOL cap 560 192 R0
SYMATTR InstName C4
SYMATTR Value {Cgs}
SYMBOL diode 992 240 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D2
SYMBOL diode 1008 176 R0
SYMATTR InstName D3
SYMATTR Value D_BK
SYMBOL res 960 48 R0
WINDOW 3 -460 -145 Left 2
SYMATTR Value {R_IGBT}
SYMATTR InstName R3
TEXT 504 -416 Left 2 ;Obtained from FZ750R65KE3 datasheet:\nR_IGBT is the slope that can be calculate by divide dV/dI in the graph Ic-Vc of the specs\nR_iso is obtained by divide Vce/Ices   (current loss and voltage of the current loss)\nCgs & Cgc are gate and transconductance capacitance\nCout simulates switching loss: =(Eon+Eoff)/2*2/Vce^2 where:\n   Eon and E off=switching losses in joules and Vce the voltage of Eon/off\n   It can be also Cos if there is not switching loss\nTr and Tf are rise/fall times
TEXT 376 464 Left 2 !.model D_BK D(Ron=.1m Roff=10Giga Vfwd={Vce})
TEXT 368 368 Left 2 !.param R_IGBT=1.4m R_iso=1.3Mega Cgs=205nF Cgc=3.2n Cout=870nF Vce=6501 Tr=200n Tf=500n Rrf=1 Vgsmax=20 Vgsmin=5
TEXT 1120 128 Left 2 ;Cout=(4.2+4.5)/3600^2
TEXT 376 416 Left 2 !.param Cg=Tr/Rrf Rg=max(Tf/Cg-Rrf,0) c_a=(Vgsmax-Vgsmin)/R_iso*R_IGBT ; if Rg<0 make it zero
